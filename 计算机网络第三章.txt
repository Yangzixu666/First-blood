第三章 数据链路层
（1）点对点信道。这种信道使用一对一的点对点通信方式。
（2）广播信道。这种信道使用一对多的广播通信方式。

3.1 使用点对点信道的数据链路层
（1）链路（link）就是从一个结点到相邻结点的一段物理线路，而中间没有任何其他交换结点。
（2）数据链路（data link）：当需要在一条线路上传送数据时，除了必须有一条物理线路外，还必须有一些必要的通信协议来控制这些数据的传输。把实现这些协议的硬件和软件加到链路上，就构成了数据链路。
（3）使用网络适配器（网卡）来实现这些协议。
（4）数据链路层的协议数据单元――帧
（5）点对点信道的数据链路层在进行通信时的步骤：
	（1）结点A的数据链路层把网络层交下来的IP数据报添加首部和尾部封装成帧。
	（2）结点A把封装好的帧发送给结点B的数据链路层。
	（3）结点B的数据链路层收到的帧无差错，则从收到的帧中提取出IP数据报上交给上面的网络层；否则丢弃这个帧。



3.12 三个基本问题
（1）封装成帧
（2）透明传输
（3）差错检测

一：
  （1）封装成帧：在一段数据的前后分别添加首部和尾部，就构成了一个帧。
  （2）首部和尾部的一个重要作用就是进行帧定界。（还包括许多必要的控制信息）
  
  （3）数据部分长度上限--最大传送单元MTU（Maximum Transfer Unit）

（4）帧定界符。（数据是可打印的ASCLL码组成的文本文件）
SOH（start of head）帧的首部开始
EOT（End of transmission）帧的结束
（5）由于使用了帧的定界符，接收端可以判断有无明确的帧定界符来选择是否丢弃这一帧。
二：
（1）透明传输：不管从键盘上输入什么字符都可以放在这样的帧中传输过去。（无论什么样的比特组合的数据都能够通过这个数据链路层。）
（2）解决透明问题。字节填充/字符填充：发送端需要在数据中出现控制字符“SOH”“EOT”前加上ESC（接收端在的数据链路层把数据送往网络层以前删除这个转义字符）。
三：
（1）差错检测
（2）循环冗余检验（CRC）
（3）模2运算
（4）FCS 冗余码
（5）经过模2运算得到的余数R
	if(R==0){
	printf（“运算无误”）；}

	else{
	printf（“这个帧有误，丢弃”）；


}
（6）帧丢失 帧重复 帧失序




3.2 点对点协议PPP
（1）PPP协议特点：因特网用户通常都要连接到某个ISP才能接入到因特网。PPP协议就是用户计算机和ISP进行通信时，所用的数据链路层协议。
（2）PPP协议应该满足的需求
	1.简单
	2.封装成帧
	3.透明性
	4.多种网络层协议
	5.多种类型链路
	6.差错检测
	7.检测连接状态
	8.最大传输单元
	9.网络层地址协商
	10.数据压缩协商


3.2.2  PPP协议的帧格式
一：
各字段的意义
图在课本75页
标志字段：规定为0x7E。表示一个帧的开始和结束。
标志字段就是PPP帧的定界符。
二：
字节填充
信息字段出现和标志字段一样的比特组合。
转义字符定为：0x7D
（1）把信息字段出现的每一个0x7E字节转成2个字节（0x7D,0x5E）
（2）把信息字段出现的每一个0x7D变成2个字节（0x7D,0x5D）
（3）看课本。P76
三：
零比特填充
（1）PPP协议在使用同步传输是，采用零比特填充实现透明传输
（2）做法：只要发现有5个连续1，则立即填入一个0

3.3使用广播信道的数据链路层
（1）局域网最主要特点：网络为一个单位所拥有，且地理范围和站点数目均有限。
（2）以太网采用的协议是CSMA/CD。意思是载波监听多点接入/碰撞检测。
（3）单工程端到端的传播时延记为 “字母tao”
（4）以太网的端到端的争用期为2tao
（5）经过争用期还未检测到碰撞，才肯定这次不会发生碰撞。
（6）最短帧长：(传播时延*2)*数据率







































